import{_ as N}from"./AuthenticatedLayout-BlSvkPnj.js";import{z as m,T as H,o as i,f as d,a as s,u as c,w as e,F as v,Z as M,e as a,b as n,t as l,p as q,g as k}from"./app-CAbrd4sj.js";import{C as A,T as o}from"./CardTable-BCEq2UAP.js";import{_ as h}from"./Button-DsxfKS2T.js";import{_ as B}from"./Modal-C_wceMRv.js";import{t as x,n as F,s as V}from"./AsyncVueSelect-BsR6FDzs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-NrW36AwV.js";import"./SubmitButton-B1sc4iyr.js";const $={class:"flex flex-wrap"},E={class:"w-full px-4"},O={class:"flex items-center gap-2"},j={class:"text-2xl"},I={class:"flex items-center gap-2"},L=["href"],R={class:"ml-3 font-bold text-blueGray-600"},z={key:0,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-amber-600 bg-amber-200"},G={key:1,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-red-600 bg-red-200"},Q={key:0,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-emerald-600 bg-emerald-200"},W={key:1,class:"text-xs font-semibold inline-block py-1 px-2 rounded text-red-600 bg-red-200"},Y=n("i",{class:"fa fa-edit"},null,-1),Z=n("i",{class:"fa fa-trash-alt"},null,-1),ne={__name:"Index",props:{filters:{type:Object},products:{type:Object}},setup(r){const b=m(null),w=m(!1),C=m(!1),p=m(!1),P=m(["#","Name","Product Number","Product Code","Category","Supplier","Quantity","Status","Action"]),_=H({name:null,email:null,phone:null,shop_name:null,address:null,photo:null}),S=f=>{b.value=f,p.value=!0},T=()=>{_.post(route("products.destroy",b.value.id),{preserveScroll:!0,onSuccess:()=>{y(),V()}})},y=()=>{w.value=!1,C.value=!1,p.value=!1,_.reset()};return(f,J)=>(i(),d(v,null,[s(c(M),{title:"Product"}),s(N,null,{breadcrumb:e(()=>[a(" Products ")]),default:e(()=>[n("div",$,[n("div",E,[s(A,{indexRoute:"products.index",paginatedData:r.products,filters:r.filters,tableHeads:P.value,showFilters:!1},{cardHeader:e(()=>[n("div",O,[n("h4",j,"Products ("+l(r.products.total)+")",1)])]),cardHeaderRight:e(()=>[n("div",I,[n("a",{href:f.route("products.index",{export:"excel"}),class:"active:scale-95 rounded bg-gray-700 px-4 py-2 text-white text-xs font-bold uppercase shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-150"},"Export",8,L),s(h,{href:f.route("products.create"),buttonType:"link"},{default:e(()=>[a(" Create Product ")]),_:1},8,["href"])])]),default:e(()=>[(i(!0),d(v,null,q(r.products.data,(t,D)=>{var g;return i(),d("tr",{key:t.id},[s(o,null,{default:e(()=>[a(l(r.products.current_page*r.products.per_page-(r.products.per_page-(D+1))),1)]),_:2},1024),s(o,{class:"text-left flex items-center",title:t.name},{default:e(()=>[n("span",R,l(c(x)(t.name,15)),1)]),_:2},1032,["title"]),s(o,null,{default:e(()=>[a(l(t.product_number),1)]),_:2},1024),s(o,null,{default:e(()=>[a(l(t.product_code),1)]),_:2},1024),s(o,{title:t.category.name},{default:e(()=>[a(l(c(x)(t.category.name)),1)]),_:2},1032,["title"]),s(o,{title:(g=t.supplier)==null?void 0:g.name},{default:e(()=>{var u;return[a(l(c(x)(((u=t.supplier)==null?void 0:u.name)??"-")),1)]}),_:2},1032,["title"]),s(o,null,{default:e(()=>{var u;return[a(l(c(F)(t.quantity))+" "+l((u=t.unit_type)==null?void 0:u.symbol)+" ",1),t.quantity>0&&t.quantity<10?(i(),d("span",z,"Low Stock")):k("",!0),t.quantity<1?(i(),d("span",G,"Stock Out")):k("",!0)]}),_:2},1024),s(o,null,{default:e(()=>[t.status==="active"?(i(),d("span",Q,"Active")):(i(),d("span",W,"Inactive"))]),_:2},1024),s(o,null,{default:e(()=>[s(h,{href:f.route("products.edit",t.id),buttonType:"link",preserveScroll:""},{default:e(()=>[Y]),_:2},1032,["href"]),s(h,{onClick:u=>S(t),type:"red"},{default:e(()=>[Z]),_:2},1032,["onClick"])]),_:2},1024)])}),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),s(B,{title:"Delete",show:p.value,formProcessing:c(_).processing,onClose:y,onSubmitAction:T,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:e(()=>[a(" Are you sure you want to delete this product? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{ne as default};
