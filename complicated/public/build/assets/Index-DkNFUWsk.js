import{z as x,T as I,o as E,f as C,a as t,u as o,w as a,F as N,Z as j,e as c,b as s,t as _,p as F,j as d,k as u,q as m,A as P}from"./app-CAbrd4sj.js";import{_ as O}from"./AuthenticatedLayout-BlSvkPnj.js";import{C as R,T as g}from"./CardTable-BCEq2UAP.js";import{_ as V}from"./Button-DsxfKS2T.js";import{_ as i}from"./InputError-CEuk3eaO.js";import{_ as U}from"./Modal-C_wceMRv.js";import{s as K}from"./AsyncVueSelect-BsR6FDzs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-NrW36AwV.js";import"./SubmitButton-B1sc4iyr.js";const q={class:"flex flex-wrap"},z={class:"w-full px-4"},G={class:"flex items-center gap-2"},L={class:"text-2xl"},W={class:"flex items-center gap-2"},Y=["href"],Z={class:"ml-3 font-bold text-blueGray-600"},J=s("i",{class:"fa fa-edit"},null,-1),Q=s("i",{class:"fa fa-trash-alt"},null,-1),X={class:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},ee={class:"flex flex-col"},se=s("label",{for:"name",class:"text-stone-600 text-sm font-medium"},"Name",-1),oe={class:"flex flex-col"},le=s("label",{for:"email",class:"text-stone-600 text-sm font-medium"},"Email",-1),te={class:"flex flex-col"},ne=s("label",{for:"phone",class:"text-stone-600 text-sm font-medium"},"Phone",-1),ae={class:"flex flex-col"},re=s("label",{for:"shop_name",class:"text-stone-600 text-sm font-medium"},"Shop Name",-1),de={class:"flex flex-col"},ue=s("label",{for:"address",class:"text-stone-600 text-sm font-medium"},"Address",-1),ie={class:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3"},me={class:"flex flex-col"},pe=s("label",{for:"name",class:"text-stone-600 text-sm font-medium"},"Name",-1),ce={class:"flex flex-col"},fe=s("label",{for:"email",class:"text-stone-600 text-sm font-medium"},"Email",-1),he={class:"flex flex-col"},xe=s("label",{for:"phone",class:"text-stone-600 text-sm font-medium"},"Phone",-1),_e={class:"flex flex-col"},ge=s("label",{for:"shop_name",class:"text-stone-600 text-sm font-medium"},"Shop Name",-1),be={class:"flex flex-col"},we=s("label",{for:"address",class:"text-stone-600 text-sm font-medium"},"Address",-1),Pe={__name:"Index",props:{filters:{type:Object},suppliers:{type:Object}},setup(p){const y=x(null),v=x(!1),S=x(!1),k=x(!1),f=x(null),T=x(["#","Name","Email","Phone","Shop Name","Action"]),e=I({name:null,email:null,phone:null,shop_name:null,address:null,photo:null}),A=()=>{v.value=!0,P(()=>f.value.focus())},M=r=>{y.value=r,e.name=r.name,e.email=r.email,e.phone=r.phone,e.shop_name=r.shop_name,e.address=r.address,e.photo=null,S.value=!0,P(()=>f.value.focus())},D=r=>{y.value=r,k.value=!0},b=()=>{e.post(route("suppliers.store"),{preserveScroll:!0,onSuccess:()=>{h(),K()},onError:()=>f.value.focus()})},w=()=>{e.transform(r=>({...r,_method:"put"})).post(route("suppliers.update",y.value.id),{preserveScroll:!0,onSuccess:()=>{h(),K()},onError:()=>f.value.focus()})},$=()=>{e.post(route("suppliers.destroy",y.value.id),{preserveScroll:!0,onSuccess:()=>{h(),K()}})},h=()=>{v.value=!1,S.value=!1,k.value=!1,e.reset()};return(r,n)=>(E(),C(N,null,[t(o(j),{title:"Supplier"}),t(O,null,{breadcrumb:a(()=>[c(" Suppliers ")]),default:a(()=>[s("div",q,[s("div",z,[t(R,{indexRoute:"suppliers.index",paginatedData:p.suppliers,filters:p.filters,tableHeads:T.value,showFilters:!1},{cardHeader:a(()=>[s("div",G,[s("h4",L,"Suppliers ("+_(p.suppliers.total)+")",1)])]),cardHeaderRight:a(()=>[s("div",W,[s("a",{href:r.route("suppliers.index",{export:"excel"}),class:"active:scale-95 rounded bg-gray-700 px-4 py-2 text-white text-xs font-bold uppercase shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-150"},"Export",8,Y),t(V,{onClick:A},{default:a(()=>[c("Create Supplier")]),_:1})])]),default:a(()=>[(E(!0),C(N,null,F(p.suppliers.data,(l,H)=>(E(),C("tr",{key:l.id},[t(g,null,{default:a(()=>[c(_(p.suppliers.current_page*p.suppliers.per_page-(p.suppliers.per_page-(H+1))),1)]),_:2},1024),t(g,{class:"text-left flex items-center"},{default:a(()=>[s("span",Z,_(l.name),1)]),_:2},1024),t(g,null,{default:a(()=>[c(_(l.email),1)]),_:2},1024),t(g,null,{default:a(()=>[c(_(l.phone),1)]),_:2},1024),t(g,null,{default:a(()=>[c(_(l.shop_name),1)]),_:2},1024),t(g,null,{default:a(()=>[t(V,{onClick:B=>M(l)},{default:a(()=>[J]),_:2},1032,["onClick"]),t(V,{onClick:B=>D(l),type:"red"},{default:a(()=>[Q]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),t(U,{title:"Create",show:v.value,formProcessing:o(e).processing,onClose:h,onSubmitAction:b},{default:a(()=>[s("div",X,[s("div",ee,[se,d(s("input",{id:"name",ref_key:"nameInput",ref:f,"onUpdate:modelValue":n[0]||(n[0]=l=>o(e).name=l),onKeyup:m(b,["enter"]),type:"text",placeholder:"Enter name",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).name]]),t(i,{message:o(e).errors.name},null,8,["message"])]),s("div",oe,[le,d(s("input",{id:"email","onUpdate:modelValue":n[1]||(n[1]=l=>o(e).email=l),onKeyup:m(b,["enter"]),type:"email",placeholder:"Enter email",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).email]]),t(i,{message:o(e).errors.email},null,8,["message"])]),s("div",te,[ne,d(s("input",{id:"phone","onUpdate:modelValue":n[2]||(n[2]=l=>o(e).phone=l),onKeyup:m(b,["enter"]),type:"text",placeholder:"Enter phone",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).phone]]),t(i,{message:o(e).errors.phone},null,8,["message"])]),s("div",ae,[re,d(s("input",{id:"shop_name","onUpdate:modelValue":n[3]||(n[3]=l=>o(e).shop_name=l),onKeyup:m(b,["enter"]),type:"text",placeholder:"Enter shop name",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).shop_name]]),t(i,{message:o(e).errors.shop_name},null,8,["message"])]),s("div",de,[ue,d(s("textarea",{id:"address","onUpdate:modelValue":n[4]||(n[4]=l=>o(e).address=l),type:"text",rows:"3",placeholder:"Enter address",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[u,o(e).address]]),t(i,{message:o(e).errors.address},null,8,["message"])])])]),_:1},8,["show","formProcessing"]),t(U,{title:"Edit",show:S.value,formProcessing:o(e).processing,onClose:h,onSubmitAction:w},{default:a(()=>[s("div",ie,[s("div",me,[pe,d(s("input",{id:"name",ref_key:"nameInput",ref:f,"onUpdate:modelValue":n[5]||(n[5]=l=>o(e).name=l),onKeyup:m(w,["enter"]),type:"text",placeholder:"Enter name",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).name]]),t(i,{message:o(e).errors.name},null,8,["message"])]),s("div",ce,[fe,d(s("input",{id:"email","onUpdate:modelValue":n[6]||(n[6]=l=>o(e).email=l),onKeyup:m(w,["enter"]),type:"email",placeholder:"Enter email",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).email]]),t(i,{message:o(e).errors.email},null,8,["message"])]),s("div",he,[xe,d(s("input",{id:"phone","onUpdate:modelValue":n[7]||(n[7]=l=>o(e).phone=l),onKeyup:m(w,["enter"]),type:"text",placeholder:"Enter phone",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).phone]]),t(i,{message:o(e).errors.phone},null,8,["message"])]),s("div",_e,[ge,d(s("input",{id:"shop_name","onUpdate:modelValue":n[8]||(n[8]=l=>o(e).shop_name=l),onKeyup:m(w,["enter"]),type:"text",placeholder:"Enter shop name",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,544),[[u,o(e).shop_name]]),t(i,{message:o(e).errors.shop_name},null,8,["message"])]),s("div",be,[we,d(s("textarea",{id:"address","onUpdate:modelValue":n[9]||(n[9]=l=>o(e).address=l),type:"text",rows:"3",placeholder:"Enter address",class:"mt-2 block w-full rounded-md border border-gray-200 px-2 py-2 shadow-sm outline-none focus:outline-none focus:shadow-outline"},null,512),[[u,o(e).address]]),t(i,{message:o(e).errors.address},null,8,["message"])])])]),_:1},8,["show","formProcessing"]),t(U,{title:"Delete",show:k.value,formProcessing:o(e).processing,onClose:h,onSubmitAction:$,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:a(()=>[c(" Are you sure you want to delete this supplier? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{Pe as default};
