import{z as c,T as j,o as _,f as v,a as t,u as s,w as a,F as T,Z as F,e as d,b as o,t as x,p as K,j as E,k as M,q as D,A}from"./app-CAbrd4sj.js";import{_ as O}from"./AuthenticatedLayout-BlSvkPnj.js";import{C as R,T as w}from"./CardTable-BCEq2UAP.js";import{_ as y}from"./Button-DsxfKS2T.js";import{_ as N}from"./InputError-CEuk3eaO.js";import{_ as C}from"./Modal-C_wceMRv.js";import{s as b}from"./AsyncVueSelect-BsR6FDzs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ApplicationLogo-NrW36AwV.js";import"./SubmitButton-B1sc4iyr.js";const U={class:"flex flex-wrap"},q={class:"w-full px-4"},z={class:"flex items-center gap-2"},L={class:"text-2xl"},W={class:"flex items-center gap-2"},Y=["href"],Z=o("i",{class:"fa fa-edit"},null,-1),J=o("i",{class:"fa fa-trash-alt"},null,-1),Q=o("label",{for:"name"},"Name",-1),X=o("label",{for:"name"},"Name",-1),ce={__name:"Index",props:{filters:{type:Object},categories:{type:Object}},setup(r){const f=c(null),p=c(!1),g=c(!1),h=c(!1),n=c(null),P=c(["#","Name","Action"]),e=j({name:null}),$=()=>{p.value=!0,A(()=>n.value.focus())},H=u=>{f.value=u,e.name=u.name,g.value=!0,A(()=>n.value.focus())},V=u=>{f.value=u,h.value=!0},k=()=>{e.post(route("categories.store"),{preserveScroll:!0,onSuccess:()=>{i(),b()},onError:()=>n.value.focus()})},S=()=>{e.put(route("categories.update",f.value.id),{preserveScroll:!0,onSuccess:()=>{i(),b()},onError:()=>n.value.focus()})},B=()=>{e.post(route("categories.destroy",f.value.id),{preserveScroll:!0,onSuccess:()=>{i(),b()}})},i=()=>{p.value=!1,g.value=!1,h.value=!1,e.reset()};return(u,m)=>(_(),v(T,null,[t(s(F),{title:"Category"}),t(O,null,{breadcrumb:a(()=>[d(" Categories ")]),default:a(()=>[o("div",U,[o("div",q,[t(R,{indexRoute:"categories.index",paginatedData:r.categories,filters:r.filters,tableHeads:P.value,showFilters:!1},{cardHeader:a(()=>[o("div",z,[o("h4",L,"Categories ("+x(r.categories.total)+")",1)])]),cardHeaderRight:a(()=>[o("div",W,[o("a",{href:u.route("categories.index",{export:"excel"}),class:"active:scale-95 rounded bg-gray-700 px-4 py-2 text-white text-xs font-bold uppercase shadow hover:shadow-lg outline-none focus:outline-none ease-linear transition-all duration-150"},"Export",8,Y),t(y,{onClick:$},{default:a(()=>[d("Create Category")]),_:1})])]),default:a(()=>[(_(!0),v(T,null,K(r.categories.data,(l,G)=>(_(),v("tr",{key:l.id},[t(w,null,{default:a(()=>[d(x(r.categories.current_page*r.categories.per_page-(r.categories.per_page-(G+1))),1)]),_:2},1024),t(w,null,{default:a(()=>[d(x(l.name),1)]),_:2},1024),t(w,null,{default:a(()=>[t(y,{onClick:I=>H(l)},{default:a(()=>[Z]),_:2},1032,["onClick"]),t(y,{onClick:I=>V(l),type:"red"},{default:a(()=>[J]),_:2},1032,["onClick"])]),_:2},1024)]))),128))]),_:1},8,["paginatedData","filters","tableHeads"])])]),t(C,{title:"Create",show:p.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:k},{default:a(()=>[o("div",null,[Q,E(o("input",{id:"name",ref_key:"nameInput",ref:n,"onUpdate:modelValue":m[0]||(m[0]=l=>s(e).name=l),onKeyup:D(k,["enter"]),type:"text",placeholder:"Enter name",class:"px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full"},null,544),[[M,s(e).name]]),t(N,{message:s(e).errors.name},null,8,["message"])])]),_:1},8,["show","formProcessing"]),t(C,{title:"Edit",show:g.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:S},{default:a(()=>[o("div",null,[X,E(o("input",{id:"name",ref_key:"nameInput",ref:n,"onUpdate:modelValue":m[1]||(m[1]=l=>s(e).name=l),onKeyup:D(S,["enter"]),type:"text",placeholder:"Enter name",class:"px-3 py-3 placeholder-blueGray-300 text-blueGray-600 relative bg-white rounded text-sm shadow outline-none focus:outline-none focus:shadow-outline w-full"},null,544),[[M,s(e).name]]),t(N,{message:s(e).errors.name},null,8,["message"])])]),_:1},8,["show","formProcessing"]),t(C,{title:"Delete",show:h.value,formProcessing:s(e).processing,onClose:i,onSubmitAction:B,maxWidth:"sm",submitButtonText:"Yes, delete it!"},{default:a(()=>[d(" Are you sure you want to delete this category? ")]),_:1},8,["show","formProcessing"])]),_:1})],64))}};export{ce as default};
